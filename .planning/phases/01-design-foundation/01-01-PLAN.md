---
phase: 01-design-foundation
plan: 01
type: execute
---

<objective>
Establish animation system, enhanced Material Design theme, and component design patterns for the visual redesign.

Purpose: Create the foundational design system that all subsequent phases will build upon - animation utilities, visual hierarchy improvements, and documented patterns for consistent implementation.
Output: Installed Framer Motion with animation variants library, enhanced Material Design theme with better visual hierarchy, and documented design patterns for components.
</objective>

<execution_context>
./.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-design-foundation/DISCOVERY.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/STACK.md
@src/index.css
@tailwind.config.js
@package.json

**Tech stack available:**
- React 18.3.1, TypeScript 5.6.2, Vite 6.0.5
- Tailwind CSS 4.1.16 with Material Design theme
- Recharts 3.3.0 for charts

**Established patterns:**
- PascalCase.tsx for components, camelCase.ts for utilities
- Inline Tailwind classes with responsive/state modifiers
- Named exports for utilities, default exports for components

**Key decision from DISCOVERY.md:**
- Use Framer Motion (32KB, declarative API, best React integration)
- Extend existing Material Design theme (don't rebuild)
- Focus on hover effects + smooth transitions for cost exploration
- Avoid timeline-based animations (unnecessary complexity)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Framer Motion and create animation variants library</name>
  <files>package.json, src/utils/animations.ts</files>
  <action>
    Install Framer Motion: `npm install framer-motion`

    Create `src/utils/animations.ts` with reusable animation variants:
    - `cardVariants`: For cost cards (hover, initial, animate, exit states)
    - `costChangeVariants`: For animating cost value updates
    - `highlightVariants`: For drawing attention to savings/differences
    - `fadeInUpVariants`: For staggered entrance animations
    - `layoutTransitionConfig`: Shared layout animation settings

    Each variant should include:
    - `initial`, `animate`, `exit` states for AnimatePresence
    - `hover` and `tap` states for interactive elements
    - Duration and easing curves following Material Design motion (responsive, meaningful)

    Export named constants. Include JSDoc comments explaining when to use each variant.

    Use Material Design motion principles: responsive duration (200-300ms for simple, 300-500ms for complex), easing curves (ease-in-out for most, ease-out for entrances).

    DO NOT use timeline-based sequences or complex chained animations (adds unnecessary complexity per DISCOVERY.md).
  </action>
  <verify>
    npm list framer-motion shows installed version
    src/utils/animations.ts exists with exported variants
    npm run build succeeds without errors
    TypeScript type-checking passes
  </verify>
  <done>
    Framer Motion installed in package.json
    animations.ts exports 5+ reusable variants
    All variants have initial/animate/exit/hover states
    JSDoc comments explain usage
    Build succeeds
  </done>
</task>

<task type="auto">
  <name>Task 2: Enhance Material Design theme for visual hierarchy</name>
  <files>src/index.css, tailwind.config.js</files>
  <action>
    Update `src/index.css` @theme block to add:

    1. **Cost-specific semantic colors** (in addition to existing primary/secondary):
       - `--color-cost-savings`: Distinct color for highlighting savings (consider success green or AWS orange)
       - `--color-cost-increase`: Color for cost increases (warning/error)
       - `--color-cost-neutral`: For baseline/comparison values

    2. **Enhanced elevation system** for depth:
       - `--shadow-subtle`: Light shadow for cards at rest
       - `--shadow-hover`: Elevated shadow on hover
       - `--shadow-active`: Deeper shadow for selected/active states
       Define as CSS custom properties using Material Design elevation (2dp, 4dp, 8dp)

    3. **Animation-friendly utilities**:
       - `--duration-quick`: 200ms (simple transitions)
       - `--duration-normal`: 300ms (most animations)
       - `--duration-slow`: 500ms (complex transitions)
       - `--ease-standard`: cubic-bezier for smooth motion

    Update `tailwind.config.js` to extend theme with:
    - Custom shadow utilities referencing new CSS properties
    - Transition duration utilities matching animation system

    Keep existing primary/secondary/AWS colors intact. Do NOT rebuild the entire theme.

    Use Material Design color system principles: sufficient contrast (4.5:1 for text), semantic meaning (green=positive, red=negative).
  </action>
  <verify>
    src/index.css contains new color/shadow/duration variables
    tailwind.config.js extends theme with new utilities
    npm run build succeeds
    No CSS syntax errors
  </verify>
  <done>
    Cost-specific semantic colors defined
    3-level elevation shadow system added
    Animation duration/easing variables added
    Tailwind config extended with new utilities
    Build succeeds without warnings
  </done>
</task>

<task type="auto">
  <name>Task 3: Document component animation patterns</name>
  <files>.planning/phases/01-design-foundation/DESIGN_SYSTEM.md</files>
  <action>
    Create `.planning/phases/01-design-foundation/DESIGN_SYSTEM.md` documenting:

    **Section 1: Animation Patterns**
    - Cost cards: Which variants to use (cardVariants for containers, hover states)
    - Cost value updates: When to use costChangeVariants (parameter changes, real-time updates)
    - Savings highlights: When to use highlightVariants (cost differences, best values)
    - Page transitions: fadeInUpVariants for entrance animations

    **Section 2: Hover States and Micro-interactions**
    - Standard hover pattern: scale 1.02, elevation increase
    - Active/selected state: scale 1.05, color change
    - Interactive sliders: Smooth value updates with animated highlighting
    - Tooltip reveals: Fade in with slight offset

    **Section 3: Visual Hierarchy**
    - Use cost-savings color for positive differences
    - Use elevation to indicate importance (selected > hovered > rest)
    - Animate attention to significant cost changes (>10% difference)

    **Section 4: Responsive Guidelines**
    - Desktop: Full animations with hover effects
    - Tablet: Simplified animations, touch-friendly hit areas
    - Mobile: Minimal animations (performance), larger tap targets
    - Use Tailwind responsive modifiers to disable complex animations on mobile

    **Section 5: Accessibility**
    - Respect prefers-reduced-motion (disable animations if set)
    - Maintain keyboard navigation (focus states)
    - Sufficient color contrast for cost values
    - Don't rely on color alone (use icons + labels)

    Format as markdown with code examples showing how to apply patterns.
    Reference animations.ts variants by name.
    Include "What to avoid" section (over-animation, timeline sequences, color-only semantics).
  </action>
  <verify>
    DESIGN_SYSTEM.md exists in phase directory
    File contains all 5 sections
    Code examples reference animations.ts exports
    Markdown formatting is valid
  </verify>
  <done>
    DESIGN_SYSTEM.md documents all animation patterns
    Hover states and micro-interactions defined
    Visual hierarchy guidelines established
    Responsive animation strategy documented
    Accessibility considerations included
  </done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors or warnings
- [ ] `npm run lint` passes without errors
- [ ] Framer Motion is installed and importable
- [ ] animations.ts exports at least 5 reusable variants
- [ ] src/index.css contains new theme variables
- [ ] tailwind.config.js extends theme appropriately
- [ ] DESIGN_SYSTEM.md exists with complete documentation
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors introduced
- Framer Motion dependency added to package.json
- Animation variants library created with reusable patterns
- Material Design theme enhanced with cost-specific semantics
- Component design patterns fully documented
- Foundation ready for Phase 2 (Component Redesign)
</success_criteria>

<output>
After completion, create `.planning/phases/01-design-foundation/01-01-SUMMARY.md`:

# Phase 1 Plan 1: Design Foundation Summary

**Animation system and design patterns established for visual redesign**

## Accomplishments

- Installed Framer Motion and created reusable animation variants library
- Enhanced Material Design theme with cost-specific colors and elevation system
- Documented component animation patterns and interaction guidelines

## Files Created/Modified

- `package.json` - Added framer-motion dependency
- `src/utils/animations.ts` - Created animation variants library
- `src/index.css` - Enhanced Material Design theme with new variables
- `tailwind.config.js` - Extended theme with new utilities
- `.planning/phases/01-design-foundation/DESIGN_SYSTEM.md` - Design pattern documentation

## Decisions Made

- Framer Motion variants approach over inline animation definitions (better reusability)
- Cost-specific semantic colors added to theme (savings, increase, neutral)
- 3-level elevation shadow system for visual hierarchy
- Responsive animation strategy (full on desktop, minimal on mobile)

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase 1 complete, ready for Phase 2 (Component Redesign)
</output>
