---
phase: 09-cross-service-cost-analysis
plan: 01
type: execute
---

<objective>
Create unified cross-service cost analysis page showing all AWS services side-by-side with cost comparisons and recommendations.

Purpose: Enable users to compare costs across all services (S3, Aurora, Lambda, ECS) in one view to identify the most cost-effective option for their workload.
Output: Interactive cross-service dashboard with unified cost visualization and service recommendations.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-phase.md
@./summary.md
@./.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/ARCHITECTURE.md
@.planning/codebase/STRUCTURE.md
@.planning/codebase/CONVENTIONS.md
@.planning/phases/08-multi-scenario-comparison-export/08-02-SUMMARY.md
@src/types/comparison.ts
@src/components/ComparisonChart.tsx
@src/App.tsx

**Tech stack available:** Framer Motion 12.25.0, Recharts 3.3.0, React Router DOM 7.9.5
**Established patterns:** Generic comparison framework, cost calculator pattern, service metadata registry, Material Design theme with animations

**Constraining decisions:**
- Phase 1: Framer Motion variants, cost-specific semantic colors, 3-level shadow system
- Phase 2: cardVariants for unified motion, interactiveControlVariants for form inputs
- Phase 7: Dark mode with .dark class, localStorage theme persistence
- Phase 8: Multi-scenario state management, dynamic chart rendering with breakdowns array

**Service calculators available:**
- S3: calculateS3Costs, s3CostToGeneric
- Aurora: calculateAuroraCosts, auroraCostToGeneric
- Lambda: calculateLambdaCosts, lambdaCostToGeneric
- ECS: calculateEcsCosts, ecsCostToGeneric
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create cross-service analysis page with preset configurations</name>
  <files>src/components/CrossServiceAnalysis.tsx, src/types/comparison.ts</files>
  <action>
Create CrossServiceAnalysis.tsx component that displays all 4 services (S3, Aurora, Lambda, ECS) with reasonable preset configurations for a typical workload scenario. Use cardVariants for container animation. For each service, display: service title, brief workload description (e.g., "100GB storage, Standard tier" for S3), calculated monthly cost using existing calculators with default configs. Add ServiceCostSummary interface to comparison.ts with fields: serviceId, serviceName, workloadDescription, monthlyCost. Use grid layout (2x2 on desktop, stacked on mobile) with service-specific border colors (S3: primary-500, Aurora: secondary-500, Lambda: purple-500, ECS: teal-500) matching existing color palette from Phase 8. Apply motion.div with fadeInUpVariants for staggered card entrance.
  </action>
  <verify>npm run build succeeds, page renders at /cross-service with 4 service cards showing costs</verify>
  <done>CrossServiceAnalysis component created, renders 4 services with preset configs and calculated costs, no TypeScript errors</done>
</task>

<task type="auto">
  <name>Task 2: Build unified cost comparison chart and recommendations</name>
  <files>src/components/CrossServiceAnalysis.tsx</files>
  <action>
Add unified BarChart (Recharts) below service cards showing side-by-side cost comparison. Use vertical bars with service names on X-axis, monthly cost on Y-axis. Apply same color mapping as service cards (primary-500, secondary-500, purple-500, teal-500). Include animation with 500ms ease-in-out matching Phase 2 standards. Below chart, add "Recommendations" section with cost-ranked service list and contextual advice (e.g., "S3 is most cost-effective for static storage workloads", "Lambda is best for event-driven compute with low baseline traffic"). Use highlightVariants on the cheapest option. Add costChangeVariants to recommendations that update when hovering over chart bars. Wrap recommendations in AnimatePresence for smooth transitions.
  </action>
  <verify>Chart renders with 4 bars, hovering highlights recommendation, dark mode colors work correctly</verify>
  <done>Unified chart displays all service costs, recommendations section shows ranked services with contextual advice, animations smooth</done>
</task>

<task type="auto">
  <name>Task 3: Add route and landing page card</name>
  <files>src/App.tsx, src/components/LandingPage.tsx</files>
  <action>
In App.tsx, add new route '/cross-service' rendering CrossServiceAnalysis component. Add to services array: { id: 'cross-service', title: 'Cross-Service Analysis', description: 'Compare costs across all AWS services with unified recommendations', path: '/cross-service' }. Position this as the first card in the array so it appears prominently on LandingPage. Use distinct icon or styling to differentiate it as a meta-comparison (not a single service). Apply existing cardVariants and hover animations consistent with other service cards.
  </action>
  <verify>Navigate to /, click Cross-Service Analysis card, navigates to /cross-service and renders correctly</verify>
  <done>Route registered, landing page card added in first position, navigation works, no errors</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Cross-service cost analysis page with unified comparison chart and recommendations</what-built>
  <how-to-verify>
1. Navigate to http://localhost:5173/
2. Click "Cross-Service Analysis" card (should be first card)
3. Verify page shows 4 service cards (S3, Aurora, Lambda, ECS) with:
   - Service title and workload description
   - Monthly cost calculated
   - Color-coded borders (blue, indigo, purple, teal)
4. Verify unified bar chart below cards shows all 4 services side-by-side
5. Hover over chart bars - recommendations should highlight/update
6. Verify recommendations section ranks services and provides contextual advice
7. Test dark mode toggle - all colors, chart, and text should be readable
8. Test responsive layout on mobile viewport - cards stack vertically
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] npm run build succeeds with no errors
- [ ] /cross-service route renders cross-service analysis page
- [ ] All 4 services display with calculated costs
- [ ] Unified chart shows comparative costs
- [ ] Recommendations section provides ranked guidance
- [ ] Dark mode works correctly throughout
- [ ] Responsive layout works on mobile
- [ ] Animations smooth and consistent with design system
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors or warnings
- Cross-service analysis page fully functional
- Landing page card links to new page
- Phase 9 complete, ready for v1.0 milestone completion
</success_criteria>

<output>
After completion, create `.planning/phases/09-cross-service-cost-analysis/09-01-SUMMARY.md`:

# Phase 9 Plan 1: Cross-Service Cost Analysis Summary

**[Substantive one-liner - what shipped]**

## Accomplishments

- Cross-service analysis page with 4 service cost summaries
- Unified bar chart comparing all services side-by-side
- Cost-ranked recommendations with contextual advice
- Route and landing page integration

## Files Created/Modified

- `src/components/CrossServiceAnalysis.tsx` - New cross-service dashboard component
- `src/types/comparison.ts` - ServiceCostSummary interface
- `src/App.tsx` - Cross-service route and service registry entry
- `src/components/LandingPage.tsx` - (if modified for card positioning)

## Decisions Made

[Document any implementation choices made during execution]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase 9 complete. v1.0 milestone ready for completion.
</output>
